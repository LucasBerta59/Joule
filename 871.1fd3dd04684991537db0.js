(self.webpackChunkjoule=self.webpackChunkjoule||[]).push([[871],{4871:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CylinderModule:()=>T});var s=i(8583),r=i(665),n=i(3238),h=i(4330),l=i(7393),a=i(1456);function o(e,t=a.P){return i=>i.lift(new c(e,t))}class c{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new d(e,this.dueTime,this.scheduler))}}class d extends l.L{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function u(e){e.debouncedNext()}var g=i(7716),p=i(1841);let y=(()=>{class e{constructor(e){this.http=e}getCylinders(){return this.http.get("./assets/cylinder-data.json")}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(p.eN))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function m(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",11),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw().selectType(t)}),g._uU(1),g.qZA()}if(2&e){const e=t.$implicit;g.xp6(1),g.Oqu(e)}}function Z(e,t){if(1&e&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.qZA()),2&e){const e=t.$implicit;g.xp6(2),g.Oqu(e.code),g.xp6(2),g.Oqu(e.type),g.xp6(2),g.Oqu(e.description),g.xp6(2),g.Oqu(e.length||"------------"),g.xp6(2),g.Oqu(e.height||"------------"),g.xp6(2),g.Oqu(e.diameter)}}const f=[{path:"",component:(()=>{class e{constructor(e){this.cylinderService=e,this.allCylinders=[],this.filters={length:NaN,height:NaN,diameter:NaN,type:"All"},this.maxHeightFilter=new r.NI(""),this.maxDiameterFilter=new r.NI(""),this.maxLengthFilter=new r.NI(""),this.cylinders=[],this.cylinderTypes=["All"],this.maxHeightFilter.valueChanges.pipe(o(300)).subscribe(e=>this.changeHeightFilter(parseInt(e))),this.maxDiameterFilter.valueChanges.pipe(o(300)).subscribe(e=>this.changeDiameterFilter(parseInt(e))),this.maxLengthFilter.valueChanges.pipe(o(300)).subscribe(e=>this.changeLengthFilter(parseInt(e)))}ngOnInit(){this.fetchCylinders()}changeHeightFilter(e){this.filters.height=e,this.search()}changeDiameterFilter(e){this.filters.diameter=e,this.search()}changeLengthFilter(e){this.filters.length=e,this.search()}changeTypeFilter(e){this.filters.type=e,this.search()}search(){const e=this.filters.type,t=this.filters.length,i=this.filters.height,s=this.filters.diameter;i||s||e?(this.cylinders=this.allCylinders.filter(t=>"All"===e||t.type.toLowerCase()===e.toLowerCase()).filter(e=>!t||e.length<=t).filter(e=>!i||e.height<=i).filter(e=>!s||e.diameter<=s),this.sort()):this.cylinders=this.allCylinders}sort(){this.filters.length?this.cylinders.sort(this.sortByLengthAndDiam):this.filters.height?this.cylinders.sort(this.sortByHeightAndDiam):this.filters.diameter&&this.cylinders.sort(this.sortByDiameterLengthAndheight),"All"!==this.filters.type&&this.sortByTypeHeightAndDiam()}sortByLengthAndDiam(e,t){return t.length!=e.length?t.length-e.length:t.diameter-e.diameter}sortByHeightAndDiam(e,t){return t.height!=e.height?t.height-e.height:t.diameter-e.diameter}sortByDiameterLengthAndheight(e,t){return t.diameter!=e.diameter?t.diameter-e.diameter:t.length?t.length-e.length:t.height-e.height}sortByTypeHeightAndDiam(){this.cylinders.sort(this.filters.length?this.sortByLengthAndDiam:this.sortByHeightAndDiam),this.filters.diameter&&this.cylinders.sort(this.sortByDiameterLengthAndheight)}fetchCylinders(){let e=[];this.cylinderService.getCylinders().subscribe(t=>{Object.values(t).map(t=>{e=e.concat.apply(e,Array.isArray(t)?t:[])}),this.allCylinders=e.map(e=>e),this.cylinders=this.allCylinders,this.setCylinderOptions()})}setCylinderOptions(){this.allCylinders.forEach(e=>{this.cylinderTypes.includes(e.type)||this.cylinderTypes.push(e.type)})}selectType(e){this.changeTypeFilter(e)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(y))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-cylinder"]],decls:39,vars:6,consts:[[1,"form-group","form-inline","row"],[1,"col-2","padding-lr-10"],[1,"input-title"],["ngbDropdown","",1,"d-inline-block"],["id","cylinderType","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["aria-labelledby","cylinderType","ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"formControl"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"form"),g.TgZ(1,"div",0),g.TgZ(2,"div",1),g.TgZ(3,"span",2),g._uU(4,"Max Height:"),g.qZA(),g.TgZ(5,"div",3),g.TgZ(6,"button",4),g._uU(7),g.qZA(),g.TgZ(8,"div",5),g.YNc(9,m,2,1,"button",6),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"div",1),g.TgZ(11,"span",2),g._uU(12,"Max Length:"),g.qZA(),g._UZ(13,"input",7),g.qZA(),g.TgZ(14,"div",1),g.TgZ(15,"span",2),g._uU(16,"Max Height:"),g.qZA(),g._UZ(17,"input",7),g.qZA(),g.TgZ(18,"div",1),g.TgZ(19,"span",2),g._uU(20,"Max Diameter:"),g.qZA(),g._UZ(21,"input",7),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"table",8),g.TgZ(23,"thead"),g.TgZ(24,"tr"),g.TgZ(25,"th",9),g._uU(26,"Code"),g.qZA(),g.TgZ(27,"th",9),g._uU(28,"Type"),g.qZA(),g.TgZ(29,"th",9),g._uU(30,"Description"),g.qZA(),g.TgZ(31,"th",9),g._uU(32,"Length"),g.qZA(),g.TgZ(33,"th",9),g._uU(34,"Height"),g.qZA(),g.TgZ(35,"th",9),g._uU(36,"Diameter"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(37,"tbody"),g.YNc(38,Z,13,6,"tr",10),g.qZA(),g.qZA()),2&e&&(g.xp6(7),g.Oqu(t.filters.type),g.xp6(2),g.Q6J("ngForOf",t.cylinderTypes),g.xp6(4),g.Q6J("formControl",t.maxLengthFilter),g.xp6(4),g.Q6J("formControl",t.maxHeightFilter),g.xp6(4),g.Q6J("formControl",t.maxDiameterFilter),g.xp6(17),g.Q6J("ngForOf",t.cylinders))},directives:[r._Y,r.JL,r.F,n.jt,n.iD,n.Vi,s.sg,r.wV,r.Fj,r.JJ,r.oH],styles:[""]}),e})()}];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[h.Bz.forChild(f)],h.Bz]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[n.Kz],imports:[[s.ez,A,r.u5,r.UX,n.IJ]]}),e})()}}]);