(self.webpackChunkjoule=self.webpackChunkjoule||[]).push([[871],{4871:(t,e,i)=>{"use strict";i.r(e),i.d(e,{CylinderModule:()=>T});var s=i(8583),n=i(665),r=i(3238),h=i(4330),l=i(7393),o=i(1456);function a(t,e=o.P){return i=>i.lift(new c(t,e))}class c{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new d(t,this.dueTime,this.scheduler))}}class d extends l.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function u(t){t.debouncedNext()}var g=i(7716),p=i(1841);let m=(()=>{class t{constructor(t){this.http=t}getCylinders(){return this.http.get("./assets/cylinder-data.json")}}return t.\u0275fac=function(e){return new(e||t)(g.LFG(p.eN))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"button",12),g.NdJ("click",function(){const e=g.CHM(t).$implicit;return g.oxw().selectType(e)}),g._uU(1),g.qZA()}if(2&t){const t=e.$implicit;g.xp6(1),g.Oqu(t)}}function Z(t,e){if(1&t&&(g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td"),g._uU(12),g.qZA(),g.qZA()),2&t){const t=e.$implicit;g.xp6(2),g.Oqu(t.code),g.xp6(2),g.Oqu(t.type),g.xp6(2),g.Oqu(t.description),g.xp6(2),g.Oqu(t.length||"------------"),g.xp6(2),g.Oqu(t.height||"------------"),g.xp6(2),g.Oqu(t.diameter)}}const f=[{path:"",component:(()=>{class t{constructor(t){this.cylinderService=t,this.allCylinders=[],this.filters={length:NaN,height:NaN,diameter:NaN,type:"All"},this.maxHeightFilter=new n.NI(""),this.maxDiameterFilter=new n.NI(""),this.maxLengthFilter=new n.NI(""),this.cylinders=[],this.cylinderTypes=["All"],this.maxHeightFilter.valueChanges.pipe(a(300)).subscribe(t=>this.changeHeightFilter(parseInt(t))),this.maxDiameterFilter.valueChanges.pipe(a(300)).subscribe(t=>this.changeDiameterFilter(parseInt(t))),this.maxLengthFilter.valueChanges.pipe(a(300)).subscribe(t=>this.changeLengthFilter(parseInt(t)))}ngOnInit(){this.fetchCylinders()}changeHeightFilter(t){this.filters.height=t,this.search()}changeDiameterFilter(t){this.filters.diameter=t,this.search()}changeLengthFilter(t){this.filters.length=t,this.search()}changeTypeFilter(t){this.filters.type=t,this.search()}search(){const t=this.filters.type,e=this.filters.length,i=this.filters.height,s=this.filters.diameter;i||s||t?(this.cylinders=this.allCylinders.filter(e=>"All"===t||e.type.toLowerCase()===t.toLowerCase()).filter(t=>!e||t.length<=e).filter(t=>!i||t.height<=i).filter(t=>!s||t.diameter<=s),this.sort()):this.cylinders=this.allCylinders}sort(){this.filters.length?this.cylinders.sort(this.sortByLengthAndDiam):this.filters.height?this.cylinders.sort(this.sortByHeightAndDiam):this.filters.diameter&&this.cylinders.sort(this.sortByDiameterLengthAndheight),"All"!==this.filters.type&&this.sortByTypeHeightAndDiam()}sortByLengthAndDiam(t,e){return e.length!=t.length?e.length-t.length:e.diameter-t.diameter}sortByHeightAndDiam(t,e){return e.height!=t.height?e.height-t.height:e.diameter-t.diameter}sortByDiameterLengthAndheight(t,e){return e.diameter!=t.diameter?e.diameter-t.diameter:e.length?e.length-t.length:e.height-t.height}sortByTypeHeightAndDiam(){this.cylinders.sort(this.filters.length?this.sortByLengthAndDiam:this.sortByHeightAndDiam),this.filters.diameter&&this.cylinders.sort(this.sortByDiameterLengthAndheight)}fetchCylinders(){let t=[];this.cylinderService.getCylinders().subscribe(e=>{Object.values(e).map(e=>{t=t.concat.apply(t,Array.isArray(e)?e:[])}),this.allCylinders=t.map(t=>t),this.cylinders=this.allCylinders,this.setCylinderOptions()})}setCylinderOptions(){this.allCylinders.forEach(t=>{this.cylinderTypes.includes(t.type)||this.cylinderTypes.push(t.type)})}selectType(t){this.changeTypeFilter(t)}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(m))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-cylinder"]],decls:39,vars:6,consts:[[1,"form-group","form-inline","row"],[1,"col-12","col-md-2","padding-lr-10"],[1,"input-title"],["ngbDropdown","","id","max-height-container",1,"d-inline-block"],["id","cylinderType","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["aria-labelledby","cylinderType","ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"col-4","col-md-2","padding-lr-10"],["type","number",1,"form-control",3,"formControl"],[1,"table","table-striped","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(t,e){1&t&&(g.TgZ(0,"form"),g.TgZ(1,"div",0),g.TgZ(2,"div",1),g.TgZ(3,"span",2),g._uU(4,"Max Height:"),g.qZA(),g.TgZ(5,"div",3),g.TgZ(6,"button",4),g._uU(7),g.qZA(),g.TgZ(8,"div",5),g.YNc(9,y,2,1,"button",6),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"div",7),g.TgZ(11,"span",2),g._uU(12,"Max Length:"),g.qZA(),g._UZ(13,"input",8),g.qZA(),g.TgZ(14,"div",7),g.TgZ(15,"span",2),g._uU(16,"Max Height:"),g.qZA(),g._UZ(17,"input",8),g.qZA(),g.TgZ(18,"div",7),g.TgZ(19,"span",2),g._uU(20,"Max Diameter:"),g.qZA(),g._UZ(21,"input",8),g.qZA(),g.qZA(),g.qZA(),g.TgZ(22,"table",9),g.TgZ(23,"thead"),g.TgZ(24,"tr"),g.TgZ(25,"th",10),g._uU(26,"Code"),g.qZA(),g.TgZ(27,"th",10),g._uU(28,"Type"),g.qZA(),g.TgZ(29,"th",10),g._uU(30,"Description"),g.qZA(),g.TgZ(31,"th",10),g._uU(32,"Length"),g.qZA(),g.TgZ(33,"th",10),g._uU(34,"Height"),g.qZA(),g.TgZ(35,"th",10),g._uU(36,"Diameter"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(37,"tbody"),g.YNc(38,Z,13,6,"tr",11),g.qZA(),g.qZA()),2&t&&(g.xp6(7),g.Oqu(e.filters.type),g.xp6(2),g.Q6J("ngForOf",e.cylinderTypes),g.xp6(4),g.Q6J("formControl",e.maxLengthFilter),g.xp6(4),g.Q6J("formControl",e.maxHeightFilter),g.xp6(4),g.Q6J("formControl",e.maxDiameterFilter),g.xp6(17),g.Q6J("ngForOf",e.cylinders))},directives:[n._Y,n.JL,n.F,r.jt,r.iD,r.Vi,s.sg,n.wV,n.Fj,n.JJ,n.oH],styles:["#max-height-container[_ngcontent-%COMP%], #max-height-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[h.Bz.forChild(f)],h.Bz]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[r.Kz],imports:[[s.ez,A,n.u5,n.UX,r.IJ]]}),t})()}}]);